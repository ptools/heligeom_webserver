<!-- List of reusable macros for the Input form. Avoid code duplication. -->

<!-- Macro to handle input structure -->
{% macro input_structure(input_file, pdb_id) -%}
  <div class="col s12" style="margin:12px">
    <p>Upload a PDB file containing the <b>two monomers</b> or enter a PDB accession number.</p>
    <div class="row">
      <div class="col s12 m6">
        <div class="file-field input-field">
            <div class="btn-small lbt-gris">
                <i class="material-icons right">file_upload</i>
                <span>Upload</span>
                {{ input_file}}
            </div>
            <div class="file-path-wrapper">
                <input class="file-path validate" type="text">
            </div>
            <span class="helper-text">Submit a molecule in <a href="https://www.wwpdb.org/documentation/file-format">PDB format</a></span>
            {% if input_file.errors %}
              <span class="helper-text error-input">{{ input_file.errors }}</span>
            {% endif %}
        </div>
      </div>
      <div class="col s6 m2 input-field">
        {{ pdb_id }}
        <label>PDB Accession number</label>
        {% if pdb_id.errors %}
          <span class="helper-text error-input">{{ pdb_id.errors }}</span>
        {% endif %}
      </div>
    </div>
  </div>
{%- endmacro %}

<!-- Macro to handle one monomer attributes -->
{% macro monomer_card(number, chain, res_range) -%}
  <div class="card hoverable">
    <div class="card-content">
      <span class="card-title">Monomer {{ number }}</span>
      <div class="row">
        <div class="col s12 m6 input-field">
          {{ chain }}
          <label>Chain ID</label>
          {% if chain.errors %}
            <span class="helper-text error-input">{{ chain.errors[0] }}</span>
          {% endif %}
        </div>
        <div class="col s12 m6 input-field">
          {{ res_range }}
          <label>Residue Range</label>
          {% if res_range.errors %}
            <span class="helper-text error-input">{{ res_range.errors }}</span>
          {% endif %}
        </div>
        <div class="row">
          <label>
            <input name="core" type="radio" checked />
            <span>All</span>
          </label>

          <label>
            <input name="core" type="radio" />
            <span>Select Residue numbers: </span>
          </label>
          <div class="input-field inline">
            <input id="email_inline" type="email" class="validate">
            <label for="email_inline"></label>
          </div>
        </div>
      </div> <!-- end div row -->
    </div> <!-- end div card content -->
  </div> <!-- end div card -->
{%- endmacro %}

